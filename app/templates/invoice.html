<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Crear Factura</title>
</head>
<body>
    <h1>Crear Nueva Factura</h1>
    <form method="POST" action="{{ url_for('main.invoice') }}">
        <label for="empresa">Empresa:</label>
        <input type="text" id="empresa" name="empresa" required><br><br>

        <label for="numero_parte">Número del Parte:</label>
        <input type="text" id="numero_parte" name="numero_parte" required><br><br>

        <label for="ot_number">OT:</label>
        <input type="text" id="ot_number" name="ot_number"><br><br>

        <label for="order_number">Número de Pedido:</label>
        <input type="text" id="order_number" name="order_number"><br><br>

        <div id="productos">
            <div class="producto">
                <label for="nombre_producto">Producto:</label>
                <input type="text" name="nombre_producto[]"><br>

                <label for="precio_producto">Precio:</label>
                <input type="number" name="precio_producto[]" step="0.01"><br><br>
            </div>
        </div>

        <button type="button" onclick="agregarProducto()">Agregar Otro Producto</button><br><br>
        
        <button type="submit">Guardar Factura</button>
    </form>

    <script>
        function agregarProducto() {
            var nuevoProducto = document.createElement('div');
            nuevoProducto.className = 'producto';
            nuevoProducto.innerHTML = `
                <label for="nombre_producto">Producto:</label>
                <input type="text" name="nombre_producto[]"><br>
                
                <label for="precio_producto">Precio:</label>
                <input type="number" name="precio_producto[]" step="0.01"><br><br>
            `;
            document.getElementById('productos').appendChild(nuevoProducto);
        }
    </script>
</body>
</html>
